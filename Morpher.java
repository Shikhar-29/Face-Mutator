// ********************** PUBLIC OPERATIONS ******************************// Construction: // public Morpher ( Face F1, Face F2 ) 			~ the old and new faces.// public void drawFace( Graphics g )			~ draws the resultant image.// public void increment()					~ advances the images by the 'Factor'. //// ********************** PRIVATE OPERATIONS ******************************//// private int[] Add( int[] Arr1, int[] Arr2  ) 	~ adds two arrays.// private int[] Subt( int[] Arr1, int[] Arr2  ) 	~ subtracts two arrays.// private int[] Mult( int[] Arr1, int[] Arr2  ) 	~ multiplys two arrays. import java.awt.Graphics;public class Morpher {		protected Face F1, F2;	int direction = 1;	double Scale = .4;			double Factor = 0.1;	// controls the speed	double F;		public Morpher ( Face F1, Face F2 ) {				this.F1 = F1;		this.F2 = F2;			}	/**This drawFace method uses two arrays and a scaling factor passed in by the constructor. The resulting image is some 'factor difference' between the two original images.*/ 	public void drawFace( Graphics g ) {							g.drawPolyline( Add( F2.Lpupilx, Mult( F, Subt( F2.Lpupilx, F1.Lpupilx))), 					Add( F2.Lpupily, Mult( F, Subt( F2.Lpupily, F1.Lpupily))), 2 );	// left pupil 		g.drawPolyline( Add( F2.Rpupilx, Mult(F, Subt( F2.Rpupilx, F1.Rpupilx))),					Add( F2.Rpupily, Mult(F, Subt( F2.Rpupily, F1.Rpupily))), 2 );	// right pupil		g.drawPolyline( Add( F2.Lirisx, Mult(F, Subt( F2.Lirisx, F1.Lirisx))),					Add( F2.Lirisy, Mult(F, Subt( F2.Lirisy, F1.Lirisy))), 5 );		// left iris 		g.drawPolyline( Add( F2.Ririsx, Mult(F, Subt( F2.Ririsx, F1.Ririsx))), 					Add( F2.Ririsy, Mult(F, Subt( F2.Ririsy, F1.Ririsy))), 5 );		// right iris 		g.drawPolyline( Add( F2.BLeyelidx, Mult(F, Subt( F2.BLeyelidx, F1.BLeyelidx))),					Add( F2.BLeyelidy, Mult(F, Subt( F2.BLeyelidy, F1.BLeyelidy))), 3 );// bottom of left eyelid		g.drawPolyline( Add( F2.BReyelidx, Mult(F, Subt( F2.BReyelidx, F1.BReyelidx))), 					Add( F2.BReyelidy, Mult(F, Subt( F2.BReyelidy, F1.BReyelidy))), 3 );// bottom of right eyelid		g.drawPolyline( Add( F2.BLeyex, Mult(F, Subt( F2.BLeyex, F1.BLeyex))), 					Add( F2.BLeyey, Mult(F, Subt( F2.BLeyey, F1.BLeyey))), 3 );		// bottom of left eye		g.drawPolyline( Add( F2.BReyex, Mult(F, Subt( F2.BReyex, F1.BReyex))), 					Add( F2.BReyey, Mult(F, Subt( F2.BReyey, F1.BReyey))), 3 );		// bottom of right eye		g.drawPolyline( Add( F2.TLeyex, Mult(F, Subt( F2.TLeyex, F1.TLeyex))), 					Add( F2.TLeyey, Mult(F, Subt( F2.TLeyey, F1.TLeyey))), 3);		// top of left eye		g.drawPolyline( Add( F2.TReyex, Mult(F, Subt( F2.TReyex, F1.TReyex))), 					Add( F2.TReyey, Mult(F, Subt( F2.TReyey, F1.TReyey))), 3);		// top of right eye		g.drawPolyline( Add( F2.Leyelinex, Mult(F, Subt( F2.Leyelinex, F1.Leyelinex))), 					Add( F2.Leyeliney, Mult(F, Subt( F2.Leyeliney, F1.Leyeliney))), 3);// left eye line		g.drawPolyline( Add( F2.Reyelinex, Mult(F, Subt( F2.Reyelinex, F1.Reyelinex))), 					Add( F2.Reyeliney, Mult(F, Subt( F2.Reyeliney, F1.Reyeliney))), 3);// right eye line		g.drawPolyline( Add( F2.Lnosex, Mult(F, Subt( F2.Lnosex, F1.Lnosex))),					Add( F2.Lnosey, Mult(F, Subt( F2.Lnosey, F1.Lnosey))), 6 );	// left side of nose		g.drawPolyline( Add( F2.Rnosex, Mult(F, Subt( F2.Rnosex, F1.Rnosex))), 					Add( F2.Rnosey, Mult(F, Subt( F2.Rnosey, F1.Rnosey))), 6 );	// right side of nose		g.drawPolyline( Add( F2.Lnostrilx, Mult(F, Subt( F2.Lnostrilx, F1.Lnostrilx))), 					Add( F2.Lnostrily, Mult(F, Subt( F2.Lnostrily, F1.Lnostrily))), 6 );// left nostril		g.drawPolyline( Add( F2.Rnostrilx, Mult(F, Subt( F2.Rnostrilx, F1.Rnostrilx))), 					Add( F2.Rnostrily, Mult(F, Subt( F2.Rnostrily, F1.Rnostrily))), 6 );// right nostril		g.drawPolyline( Add( F2.TLeyebrowx, Mult(F, Subt( F2.TLeyebrowx, F1.TLeyebrowx))), 					Add( F2.TLeyebrowy, Mult(F, Subt( F2.TLeyebrowy, F1.TLeyebrowy))), 6 );// top of left eyebrow		g.drawPolyline( Add( F2.TReyebrowx, Mult(F, Subt( F2.TReyebrowx, F1.TReyebrowx))), 					Add( F2.TReyebrowy, Mult(F, Subt( F2.TReyebrowy, F1.TReyebrowy))), 6 );// top of right eyebrow		g.drawPolyline( Add( F2.BLeyebrowx, Mult(F, Subt( F2.BLeyebrowx, F1.BLeyebrowx))), 					Add( F2.BLeyebrowy, Mult(F, Subt( F2.BLeyebrowy, F1.BLeyebrowy))), 4 );// bottom of left eyebrow 		g.drawPolyline( Add( F2.BReyebrowx, Mult(F, Subt( F2.BReyebrowx, F1.BReyebrowx))), 					Add( F2.BReyebrowy, Mult(F, Subt( F2.BReyebrowy, F1.BReyebrowy))), 4 );// bottom of right eyebrow		g.drawPolyline( Add( F2.Tupperlipx, Mult(F, Subt( F2.Tupperlipx, F1.Tupperlipx))), 					Add( F2.Tupperlipy, Mult(F, Subt( F2.Tupperlipy, F1.Tupperlipy))), 7);// top of upper lip		g.drawPolyline( Add( F2.Bupperlipx, Mult(F, Subt( F2.Bupperlipx, F1.Bupperlipx))), 					Add( F2.Bupperlipy, Mult(F, Subt( F2.Bupperlipy, F1.Bupperlipy))), 7);// bottom of upper lip 		g.drawPolyline( Add( F2.Tlowerlipx, Mult(F, Subt( F2.Tlowerlipx, F1.Tlowerlipx))), 					Add( F2.Tlowerlipy, Mult(F, Subt( F2.Tlowerlipy, F1.Tlowerlipy))), 7);// top of lower lip		g.drawPolyline( Add( F2.Blowerlipx, Mult(F, Subt( F2.Blowerlipx, F1.Blowerlipx))), 					Add( F2.Blowerlipy, Mult(F, Subt( F2.Blowerlipy, F1.Blowerlipy))), 7);// bottom of lowerlip	 		g.drawPolyline( Add( F2.Lfacex, Mult(F, Subt( F2.Lfacex, F1.Lfacex))), 					Add( F2.Lfacey, Mult(F, Subt( F2.Lfacey, F1.Lfacey))), 3);		// left side of face		g.drawPolyline( Add( F2.Rfacex, Mult(F, Subt( F2.Rfacex, F1.Rfacex))), 					Add( F2.Rfacey, Mult(F, Subt( F2.Rfacey, F1.Rfacey))), 3);		// right side of face		g.drawPolyline( Add( F2.Learx, Mult(F, Subt( F2.Learx, F1.Learx))), 					Add( F2.Leary, Mult(F, Subt( F2.Leary, F1.Leary))), 7);		// left ear		g.drawPolyline( Add( F2.Rearx, Mult(F, Subt( F2.Rearx, F1.Rearx))), 					Add( F2.Reary, Mult(F, Subt( F2.Reary, F1.Reary))), 7);		// right ear		g.drawPolyline( Add( F2.jawx, Mult(F, Subt( F2.jawx, F1.jawx))), 					Add( F2.jawy, Mult(F, Subt( F2.jawy, F1.jawy))), 11 );		// jaw 		g.drawPolyline( Add( F2.hairlinex, Mult(F, Subt( F2.hairlinex, F1.hairlinex))), 					Add( F2.hairliney, Mult(F, Subt( F2.hairliney, F1.hairliney))), 13);// hairline 		g.drawPolyline( Add( F2.topofheadx, Mult(F, Subt( F2.topofheadx, F1.topofheadx))),  					Add( F2.topofheady, Mult(F, Subt( F2.topofheady, F1.topofheady))), 13);// top of head 		g.drawPolyline( Add( F2.Lcheeklinex, Mult(F, Subt( F2.Lcheeklinex, F1.Lcheeklinex))),  					Add( F2.Lcheekliney, Mult(F, Subt( F2.Lcheekliney, F1.Lcheekliney))), 3);// left cheek line		g.drawPolyline( Add( F2.Rcheeklinex, Mult(F, Subt( F2.Rcheeklinex, F1.Rcheeklinex))), 					Add( F2.Rcheekliney, Mult(F, Subt( F2.Rcheekliney, F1.Rcheekliney))), 3);// right cheek line		g.drawPolyline( Add( F2.Lcheekbonex, Mult(F, Subt( F2.Lcheekbonex, F1.Lcheekbonex))), 					Add( F2.Lcheekboney, Mult(F, Subt( F2.Lcheekboney, F1.Lcheekboney))), 3);// left cheekbone 		g.drawPolyline( Add( F2.Rcheekbonex, Mult(F, Subt( F2.Rcheekbonex, F1.Rcheekbonex))), 					Add( F2.Rcheekboney, Mult(F, Subt( F2.Rcheekboney, F1.Rcheekboney))), 3);// right cheekbone		g.drawPolyline( Add( F2.Lupperliplinex, Mult(F, Subt( F2.Lupperliplinex, F1.Lupperliplinex))), 				Add( F2.Lupperlipliney, Mult(F, Subt( F2.Lupperlipliney, F1.Lupperlipliney))), 2 );// left upper lip line		g.drawPolyline( Add( F2.Rupperliplinex, Mult(F, Subt( F2.Rupperliplinex, F1.Rupperliplinex))), 				Add( F2.Rupperlipliney, Mult(F, Subt( F2.Rupperlipliney, F1.Rupperlipliney))), 2 );// right upper lip line		g.drawPolyline( Add( F2.chincleftx, Mult(F, Subt( F2.chincleftx, F1.chincleftx))), 					Add( F2.chinclefty, Mult(F, Subt( F2.chinclefty, F1.chinclefty))), 2 );	// chin cleft 				g.drawPolyline( Add( F2.chinlinex, Mult(F, Subt( F2.chinlinex, F1.chinlinex))), 					Add( F2.chinliney, Mult(F, Subt( F2.chinliney, F1.chinliney))), 3);			}	/**In the paint method the Face objects are first drawn to the offscreenG graphics object and then this object is drawn to the Applet.*/ 		public void increment() {			if ( Scale >= .4 && direction == 1 ) {			Factor = Factor * -1;			direction = -1;		} 		if ( Scale <= -1.5 && direction == -1 ) {			Factor = Factor * -1;			direction = 1;		} 				  		Scale = Scale + Factor;		F = Scale;	}	/**This Mult method takes two arrays, multiplies their respective elements and returns the resultant array.*/ 	private int[] Add( int[] Arr1, int[] Arr2  ) {				int[] result = new int[ Arr1.length ];				for( int i=0; i < Arr1.length; i++ )			result[i] = (Arr1[i] - 30) + Arr2[i];					return result;	}	/**This Subt method takes two arrays, subtracts the firsts elements from the seconds and returns the resultant array.*/  	private int[] Subt( int[] Arr1, int[] Arr2  ) {				int[] result = new int[ Arr1.length ];				for( int i=0; i < Arr1.length; i++ )			result[i] = Arr1[i] - Arr2[i];					return result;	}	/**This Mult method takes two arrays, subtracts the firsts elements from the seconds and returns the resultant array.*/	private int[] Mult( double Factor, int[] Arr  ) {				int[] result = new int[ Arr.length ];				for( int i=0; i < Arr.length; i++ )			result[i] = (int ) (Factor * Arr[i]);					return result;	}}